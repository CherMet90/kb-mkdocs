![GRE-tunnel](../../images/gre.PNG)
<br>
Конфигурация:  
1.  
```
conf t
  int tun <номер_тоннеля>
    tun so <ip-адрес_или_интерфейс> # определяем интерфейс (underlay), на котором будет происходить инкапсуляция/    декапсуляция GRE-заголовков (ip src GRE-пакета)
    tun dest <ip-адрес>             # ip dest GRE-пакета
    ip add <ip-адрес маска>         # ip overlay-интерфейса (т.е. сети самого тонеля)
    band <скорость_в_kbit/s>        # (опционально) можно объявить (не задать!) скорость порта для корректного     расчета пути протоколами маршрутизации
    keep <секунды [число_попыток]>  # (опционально) включение keepalive позволяет контролировать наличие связности   в   тонеле и переводить тонель в down, при её отсутствии. Без keepalive интерфейс будет в up, пока в таблице   есть   маршрут до tunnel destination
    ip mtu <значение_MTU>           # тунелирование и шифрование увеличивают заголовки, необходимо задать     (уменьшить) размер MTU, чтобы избежать фрагментации
```
![Размеры заголовков](../../images/headers.PNG)
2. Добавляем статический маршрут до *tunnel destination ip*, если не подходит дэфолтный маршрут
3. Добавляем интерфейс тунеля в процесс протокола маршрутизации, чтобы анонсить свои подсети соседу по тонелю